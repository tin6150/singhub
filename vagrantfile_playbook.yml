---

#
# example ansible playbook file that expect vagrant provision to run
# http://people.redhat.com/mskinner/rhug/q2.2017/Ansible-Hands-on-Introduction.pdf p23
# https://www.vagrantup.com/docs/provisioning/ansible_intro.html
#
# yaml quirky: 
# --- means start of doc
# ... means end of doc (but often not seen)
# like python, space matter!  it dictates the hierarchy
#    but the "-" to define list has to stick out for visibility.  this make shifting block level a real PITA  !!!! :( 

- hosts: all
  become: true  # sudo, default to root
  tasks:
    - name: ensure ntpd is at the latest version
      yum: pkg=ntp state=latest
      notify:
        - restart ntpd
    - name: get latest zsh 
      yum: pkg=zsh state=latest
    - name: stop httpd
      service:
      name: stop httpd # complain about this
      state: stopped
  handlers:
    - name: restart ntpd
      service: name=ntpd state=restarted


